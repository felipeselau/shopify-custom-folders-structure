<!-- Begin Afterpay JavaScript Snippet -->
<script type="text/javascript">
  $('.afterpay-product, .cart__blocks').on('DOMSubtreeModified', function(){
    var afterpayElement = document.querySelector("afterpay-placement");
    if (!afterpayElement) return;
    afterpayElement = afterpayElement.shadowRoot;
    var afterpayLink = afterpayElement.querySelector(".afterpay-link");
    if (!afterpayLink) return;
    afterpayLink.setAttribute("tabindex", "-1");
  });

  // Removes AP text on gift cards.  
  var afterpay_product = {{ product | json }};
  if (afterpay_product && afterpay_product.type == "Gift Card") {
    $("afterpay-placement").remove();
  }
</script>

<script
    src="https://js.afterpay.com/afterpay-1.x.js"
    data-min="0.04"
    data-max="1000.00"
    onload="createMessaging()"
    async 
></script>
<!-- End Afterpay JavaScript Snippet -->